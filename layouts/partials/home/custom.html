{{ $disableImageOptimization := .Site.Params.disableImageOptimization | default false }}

<style>#content_progress{display:none;}</style>

<article class="max-w-full prose dark:prose-invert">
    <div class="relative">
        <div class="absolute inset-x-0 bottom-0 h-1/2 bg-gray-100"></div>
        <div class="mx-auto max-w-7xl p-0">
            <div class="relative sm:overflow-hidden">
                <div class="fixed inset-x-0 top-0" style="z-index:-10">
                    {{ $homepageImage := "" }}
                    {{ with .Site.Params.defaultBackgroundImage }}
                        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                            {{ $homepageImage = resources.GetRemote . }}
                        {{ else }}
                            {{ $homepageImage = resources.Get . }}
                        {{ end }}
                    {{ end }}
                    {{ with .Site.Params.homepage.homepageImage }}
                        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                            {{ $homepageImage = resources.GetRemote . }}
                        {{ else }}
                            {{ $homepageImage = resources.Get . }}
                        {{ end }}
                    {{ end }}
                    {{ if $homepageImage }}
                    <img class="w-full h-[1000px] object-cover m-0 nozoom" src="{{ $homepageImage.RelPermalink }}" role="presentation">
                    {{/*
                    <video
                      class="w-full h-[1000px] object-cover m-0 nozoom"
                      webkit-playsinline="true"
                      x-webkit-airplay="true"
                      playsinline="true"
                      x5-video-player-type="h5"
                      x5-video-orientation="h5"
                      x5-video-player-fullscreen="true"
                      preload="auto"
                      autoplay="true"
                      loop=""
                      muted="">
                      {{ $webmSource := resources.Get "images/video_WebTitle_batch.webm" }}
                      <source src="{{ $webmSource.RelPermalink }}" type="video/webm">
                      <source src="{{ $homepageImage.RelPermalink }}" type="video/mp4">
                      Your browser does not support the video tag.
                    </video>
                    */}}
                    <div
                        class="absolute inset-0 h-[1000px] bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
                    </div>
                    <div
                        class="opacity-60 absolute inset-0 h-[1000px] bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal">
                    </div>
                    {{ end }}
                </div>
                <div class="relative px-1 py-1 flex flex-col items-center justify-center text-center">
                    {{ with .Site.Params.Author.image }}
                        {{ $authorImage := "" }}
                        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                            {{ $authorImage = resources.GetRemote . }}
                        {{ else }}
                            {{ $authorImage = resources.Get . }}
                        {{ end }}
                        {{ if $authorImage }}
                            {{ if not $disableImageOptimization }}
                                {{ $authorImage = $authorImage.Fill (print "288x288 q" ( $.Site.Params.Author.imagequality | default "96" )) }}
                            {{ end }}
                            <div class="tailwind-ticker w-auto relative group flex items-end transition-all duration-300">
                                <div class="rounded-full overflow-hidden min-w-[144px]">
                                    <img class="mb-2 rounded-full h-36 w-36 nozoom" width="144" height="144"
                                    alt="{{ $.Site.Params.Author.name | default " Author" }}" src="{{ $authorImage.RelPermalink }}" />
                                </div>
                                <div class="absolute bottom-0 left-full -ml-9 mb-1 w-8 h-8 rounded-full flex items-center justify-center group-hover:w-min group-hover:h-8 group-hover:rounded-lg transition-all duration-300">
                                    <div class="ticker hidden sm:flex w-9 sm:w-[226px] md:w-[295px] lg:w-[476px] min-w-[36px] transition-all duration-300">
                                      <div id="ticker">
                                        <div class="ticker-wrap">
                                          <ul class="ticker-list">
                                            <li class="ticker-item"><a
                                                href="https://qlad.github.io/mastodon/" target="_blank">做技术的黑客心态加上开放共进的态度是成长和越过高山幽谷的秘籍！</a>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                            </div>

                        {{ end }}
                    {{ end }}
                    <h1 class="mb-2 text-4xl font-extrabold text-neutral-800 dark:text-neutral-200">
                        {{ .Site.Params.Author.name | default .Site.Title }}
                        {{/*  {{ T `blog_title` | safeHTML }}  */}}
                    </h1>
                    {{/*  {{ with .Site.Params.Author.headline }}  */}}
                    <h2 class="mt-0 mb-0 text-xl text-neutral-800 dark:text-neutral-300">
                        {{/*  {{ . | markdownify }}  */}}
                        <div id="poem_sentence" class="min-h-7 text-base md:text-xl">明月松间照，清泉石上流。</div>
                        {{/*  <div>{{ T `toot_motto` | safeHTML }} - <span class="italic text-base">Louis Pasteur</span></div>  */}}
                    </h2>
                    {{/*  {{ end }}  */}}
                    <div class="my-3 text-2xl">
                        {{ with .Site.Params.Author.links }}
                        <div class="flex flex-wrap">
                            {{ range $links := . }}
                            {{ range $name, $url := $links }}
                            <a class="px-1 hover:text-primary-400 text-primary-800 dark:text-primary-200" href="{{ $url }}" target="_blank"
                                aria-label="{{ $name | title }}" rel="me noopener noreferrer">{{ partial
                                "icon.html" $name }}</a>
                            {{ end }}
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>

                    <section class="prose dark:prose-invert">{{ .Content }}</section>

                    <div class="tailwindcss-heatmap flex flex-col items-end text-[10px] leading-[12px] text-neutral-700 dark:text-neutral-400">
                        <div class="flex flex-row items-end">

                            <div class="flex flex-col justify-end items-end mr-1 mt-1 text-right">
                                <span>Mon</span>
                                <span>&nbsp;</span>
                                <span>Wed</span>
                                <span>&nbsp;</span>
                                <span>Fri</span>
                                <span>&nbsp;</span>
                                <span>Sun</span>
                            </div>

                            <div class="heatmap">
                                <div class="month mb-1 flex justify-around">
                                  <span class="hide_by_js">Jan</span><span class="hide_by_js">Feb</span><span class="hide_by_js">Mar</span><span class="hide_by_js">Apr</span><span class="hide_by_js">May</span><span class="hide_by_js">Jun</span><span class="hide_by_js">Jul</span><span class="hide_by_js">Aug</span><span class="hide_by_js">Sep</span><span class="hide_by_js">Oct</span><span class="hide_by_js">Nov</span><span class="hide_by_js">Dec</span>
                                </div>
                                <div class="h-[84px]">
                                    <div id="heatmap" class="flex flex-row">
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_1"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                      <div class="heatmap_week hide_by_js">
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                        <div class="heatmap_day heatmap_day_level_0"></div>
                                      </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="flex mt-2 items-center">
                            <span class="">{{ T `heatmap_less` | safeHTML }}</span>
                            <div class="flex flex-row items-center gap-[2px] w-max h-[10px] mx-1">
                                <span class="block w-[10px] h-[10px] rounded-sm bg-[#ebedf0] dark:bg-[#161b22]"></span>
                                <span class="block w-[10px] h-[10px] rounded-sm bg-[#9be9a8] dark:bg-[#0e4429]"></span>
                                <span class="block w-[10px] h-[10px] rounded-sm bg-[#40c463] dark:bg-[#006d32]"></span>
                                <span class="block w-[10px] h-[10px] rounded-sm bg-[#30a14e] dark:bg-[#26a641]"></span>
                                <span class="block w-[10px] h-[10px] rounded-sm bg-[#216e39] dark:bg-[#39d353]"></span>
                            </div>
                            <span class="">{{ T `heatmap_more` | safeHTML }}</span>
                        </div>

                    </div>

                    <script type="text/javascript">
                        // 获取最近一年的文章数据
                        {{ $pages := where .Site.RegularPages "Date" ">" (now.AddDate -1 0 0) }}
                        {{ $pages := $pages.Reverse }}
                        var blogInfo = {
                            "pages": [
                                {{ range $index, $element := $pages }}
                                    {
                                        "title": "{{ replace (replace .Title "《" "〈") "》" "〉" }}",
                                        "date": "{{ .Date.Format "2006-01-02" }}",
                                        "year": "{{ .Date.Format "2006" }}",
                                        "month": "{{ .Date.Format "01" }}",
                                        "day": "{{ .Date.Format "02" }}",
                                        "word_count": "{{ .WordCount }}"
                                    }{{ if ne (add $index 1) (len $pages) }},{{ end }}
                                    {{ end }}
                            ]
                        };
                        // console.log(blogInfo)

                        let currentDate = new Date();
                        currentDate.setFullYear(currentDate.getFullYear() - 1);

                        let startDate;

                        let monthDiv = document.querySelector('.month');
                        let monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

                        if (window.innerWidth < 768) {
                            numMonths = 6;
                        } else {
                            numMonths = 12;
                        }

                        let startMonthIndex = (currentDate.getMonth() - (numMonths - 1) + 12) % 12;
                        for (let i = startMonthIndex; i < startMonthIndex + numMonths; i++) {
                            let monthSpan = document.createElement('span');
                            let monthIndex = i % 12;
                            monthSpan.textContent = monthNames[monthIndex];
                            monthDiv.appendChild(monthSpan);
                        }

                        function getStartDate() {
                            const today = new Date();

                            if (window.innerWidth < 768) {
                                numMonths = 6;
                            } else {
                                numMonths = 12;
                            }

                            const startDate = new Date(today.getFullYear(), today.getMonth() - numMonths + 1, 1, today.getHours(), today.getMinutes(), today.getSeconds());

                            while (startDate.getDay() !== 1) {
                                startDate.setDate(startDate.getDate() + 1);
                            }

                            return startDate;
                        }

                        function getWeekDay(date) {
                            const day = date.getDay();
                            return day === 0 ? 6 : day - 1;
                        }

                        function createDay(date, title, count, post) {
                            const day = document.createElement("div");

                            day.className = "heatmap_day";

                            day.setAttribute("data-title", title);
                            day.setAttribute("data-count", count);
                            day.setAttribute("data-post", post);
                            day.setAttribute("data-date", date);

                            day.addEventListener("mouseenter", function () {
                                const tooltip = document.createElement("div");
                                tooltip.className = "heatmap_tooltip";

                                let tooltipContent = "";

                                if (post && parseInt(post, 10) !== 0) {
                                    tooltipContent += '<span class="heatmap_tooltip_post">' + '共 ' + post + ' 篇' + '</span>';
                                }

                                if (count && parseInt(count, 10) !== 0) {
                                    tooltipContent += '<span class="heatmap_tooltip_count">' + ' ' + count + ' 字；' + '</span>';
                                }

                                if (title && parseInt(title, 10) !== 0) {
                                    tooltipContent += '<span class="heatmap_tooltip_title">' + title + '</span>';
                                }

                                if (date) {
                                    tooltipContent += '<span class="heatmap_tooltip_date">' + date + '</span>';
                                }

                                tooltip.innerHTML = tooltipContent;
                                day.appendChild(tooltip);
                            });

                            day.addEventListener("mouseleave", function () {
                                const tooltip = day.querySelector(".heatmap_tooltip");
                                if (tooltip) {
                                    day.removeChild(tooltip);
                                }
                            });

                            if (count == 0 ) {
                                day.classList.add("heatmap_day_level_0");
                            } else if (count > 0 && count < 1000) {
                                day.classList.add("heatmap_day_level_1");
                            } else if (count >= 1000 && count < 2000) {
                                day.classList.add("heatmap_day_level_2");
                            } else if (count >= 2000 && count < 3000) {
                                day.classList.add("heatmap_day_level_3");
                            } else {
                                day.classList.add("heatmap_day_level_4");
                            }

                            return day;
                        }

                        function createWeek() {
                            const week = document.createElement('div');
                            week.className = 'heatmap_week';
                            return week;
                        }

                        function createHeatmap() {
                            const container = document.getElementById('heatmap');
                            const startDate = getStartDate();
                            const endDate = new Date();
                            const weekDay = getWeekDay(startDate);

                            let currentWeek = createWeek();
                            container.appendChild(currentWeek);

                            let currentDate = startDate;
                            let i = 0;

                            while (currentDate <= endDate) {
                                if (i % 7 === 0 && i !== 0) {
                                    currentWeek = createWeek();
                                    container.appendChild(currentWeek);
                                }

                                const dateString = `${currentDate.getFullYear()}-${("0" + (currentDate.getMonth()+1)).slice(-2)}-${("0" + (currentDate.getDate())).slice(-2)}`;

                                const articleDataList = blogInfo.pages.filter(page => page.date === dateString);

                                if (articleDataList.length > 0) {
                                    const titles = articleDataList.map(data => data.title);
                                    const title = titles.map(t => `《${t}》`).join('<br />');

                                    let count = 0;
                                    let post = articleDataList.length;

                                    articleDataList.forEach(data => {
                                        count += parseInt(data.word_count, 10);
                                    });

                                    const formattedDate = formatDate(currentDate);
                                    const day = createDay(formattedDate, title, count, post);
                                    currentWeek.appendChild(day);
                                } else {
                                    const formattedDate = formatDate(currentDate);
                                    const day = createDay(formattedDate, '', '0', '0');
                                    currentWeek.appendChild(day);
                                }

                                i++;
                                currentDate.setDate(currentDate.getDate() + 1);
                            }
                        }

                        function formatDate(date) {
                            const options = { month: 'short', day: 'numeric', year: 'numeric' };
                            return date.toLocaleDateString('en-US', options);
                        }

                        // 获取所有带有 class="hide_by_js" 的元素
                        var elements = document.querySelectorAll('.hide_by_js');

                        // 遍历这些元素并从 DOM 中删除它们
                        elements.forEach(function(element) {
                            element.parentNode.removeChild(element);
                        });

                        createHeatmap();

                    </script>

                </div>
            </div>
        </div>
    </div>
</article>

<section>
    {{ $recentArticles := 5 }}
    {{ $showMoreLinkDest := "/blog" }}
    {{ if .Site.Params.homepage.showRecent | default false }}
    {{ if index .Site.Params.homepage "showRecentItems" }}
    {{ $recentArticles = .Site.Params.homepage.showRecentItems }}
    {{ end }}
    <h2 class="mt-8 text-2xl font-extrabold mb-10">{{ i18n "shortcode.recent_articles" }}</h2>

    {{ if and .Site.Params.homepage.cardView (not .Site.Params.homepage.cardViewScreenWidth) | default false }}
    {{ partial "recent-articles/list.html" . }}
    {{ else if and .Site.Params.homepage.cardView .Site.Params.homepage.cardViewScreenWidth | default false }}
    {{ partial "recent-articles/cardview-fullwidth.html" . }}
    {{ else }}
    {{ partial "recent-articles/cardview.html" . }}
    {{ end }}

    {{ if .Site.Params.homepage.showMoreLink | default false }}
    {{ if index .Site.Params.homepage "showRecentItems" }}
    {{ $showMoreLinkDest = .Site.Params.homepage.showMoreLinkDest }}
    {{ end }}
    <div class="mt-10 flex justify-center">
    <a href="{{ $showMoreLinkDest }}">
        <button
        class="bg-transparent hover:text-primary-500 prose dark:prose-invert font-semibold hover:text-white py-2 px-4 border border-primary-500 hover:border-transparent rounded">
        {{ i18n "recent.show_more" | markdownify }}
        </button>
    </a>
    </div>
    {{ end }}
    {{ end }}
</section>

{{ if .Site.Params.homepage.layoutBackgroundBlur | default false }}
<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>

<script>
    const poemSentences = [
        "道可道，非常道，名可名，非常名。", "无名天地之始，有名万物之母。", "上善若水，水善利万物而不争。", "道冲而用之或不盈。", "天地不仁，以万物为刍狗。", "谷神不死，是谓玄牝。", "天长地久，天地所以能长且久者。", "上善若水，水善利万物而不争。", "持而盈之，不如其已；揣而锐之，不可长保。", "载营魄而岌岌，匿精神而恍惚。", "三十辐，共一毂；当其无，有车之用。", "五色令人目盲，五音令人耳聋。", "宠辱若惊，贵大患若身。", "视之不见，名之曰夷；听之不闻，名之曰希。", "古之善为士者，微妙而深远。", "致虚极，守静笃。", "太上，不知有之；其次，亲而誉之。", "大道废，有仁义；智者出，有大言。", "绝圣弃智，民复归于愚。", "唯之与阿，皆为若虞。", "孔德之容，惟道之馨。", "曲则全，枉则直；洼则盈，隳则起。", "希言自然，故治之以无为。", "企者不立，跨者不行。", "有物混成，先天地生。", "重为轻根，静为躁君。", "善行，无辙迹；善言，无瑕谪。", "知其雄，守其雌；知其白，守其黑。", "将欲取之，必先予之。", "以道佐人主者，不以兵强天下。", "夫佳兵者，不祥之器。", "道常无名，朴虽小，天下皆知之。", "知人者智，自知者明。", "大道泛兮，其可左右。", "执大象，天下往；执大明，天下以明。", "将欲灭之，必先存之；将欲弱之，必先强之。", "道常无为，无为而无不为。", "上德无为，故无以为功；下德有为，故无以为名。", "昔日之得，今日之失。", "反者道之动，弱者道之用。", "上士闻道，勤而行之；中士闻道，犹疑而行之。", "道生一，一生二，二生三，三生万物。", "柔弱胜刚强，水可载舟，亦可覆舟。", "名与身孰亲？", "大成若缺，其用不弊。", "天下有道，却走马而行。", "无欲无求，故常无欲。", "为学日益，为道日损。", "圣人无常心，以百姓之心为心。", "生之徒，死之徒；生之徒，反之徒。", "道生之，德蓄之，物形之，势成之。", "道德之所存，万物之所因。", "使民以重，必先以轻。", "善建者不拔，善抱者不离。", "柔能克刚，弱能胜强。", "知者不言，言者不知。", "以道佐人主者，不以兵强天下。", "故治国者，必先治民。", "治人事天，行之于天。", "治大国者，如治小国。", "大国者下流，小国者上流。", "道者万物之母，故知者不言。", "为无为，行无行。", "未发之难，早之可知。", "古之善为士者，微妙而深远。", "江海之所以能为百谷之主，者以其善下之。", "我有三宝，持而保之：慈、俭、不敢为天下先。", "善为士者，不武；善战者，不怒。", "夫唯不争，故天下莫能与之争。", "我言甚易知，甚易行；我行甚难知，甚难行。", "知者不言，言者不知。", "当今之世，治国者，必先治人。", "勇者不惧，勇者不惧于天下。", "死生之道，动静之道。", "人之所畏，勿为；人之所恶，勿为。", "人之所畏，勿为。", "道之为道，唯道之为道。", "柔能克刚，弱能胜强。", "故持而盈之，不如其已。", "小国寡民，使有什伯之器者，足以为矣。", "信言不美，美言不信；善者不辩，辩者不善。"
    ];

    const randomIndex = Math.floor(Math.random() * poemSentences.length);
    const randomSentence = poemSentences[randomIndex];

    document.getElementById('poem_sentence').innerText = randomSentence;
</script>

<script>
    // 远程 JSON API 地址
    let jsonUrl = "https://mastodon.social/api/v1/accounts/113099580562756061/statuses?limit=10&exclude_replies=true&exclude_reblogs=true";

    // 设置宽度
    // const heatmapElement = document.querySelector(".tailwindcss-heatmap");
    // const secondNavElement = mainMenuElement.querySelectorAll("nav")[1]; // 获取第二个nav元素
    // const heatmapWidth = secondNavElement.offsetWidth;
    // const heatmapWidth = heatmapElement.offsetWidth;
    // const tickerElement = document.querySelector(".tailwind-ticker");
    // tickerElement.style.maxWidth = `${heatmapWidth}px`;

    // 处理 Json 数据
    if (document.querySelector('#ticker')) {
        fetch(jsonUrl)
            .then(res => res.json())
            .then(res => {
                var result = '';
                var data = res;
                for (var i = 0; i < data.length; i++) {
                    // var tickerTime = new Date(data[i].created_at).toLocaleString();
                    var tickerTime = new Date(data[i].created_at);
                    var tickerContent = extractTextFromHtml(data[i].content)
                    var tickerUrl = data[i].url;
                    const replacements = {
                        '\\s*:star_empty:\\s*': '🌑',
                        '\\s*:star_half:\\s*': '🌗',
                        '\\s*:star_solid:\\s*': '🌕'
                    };
                    tickerContent = replaceMultiple(tickerContent, replacements);
                    var relativeTime = getRelativeTime(tickerTime);
                    result += `<li class="ticker-item"><span class="datetime">${relativeTime}</span>：<a href="${tickerUrl}" target="_blank">${tickerContent}</a></li>`;
                }
                var tickerDom = document.querySelector('#ticker');
                var tickerBefore = `<div class="ticker-wrap"><ul class="ticker-list">`;
                var tickerAfter = `</ul></div>`;
                resultAll = tickerBefore + result + tickerAfter;
                tickerDom.innerHTML = resultAll;

            });

        // 滚动效果
        setInterval(function () {
            var tickerWrap = document.querySelector(".ticker-list");
            var tickerItem = tickerWrap.querySelectorAll(".ticker-item");
            for (var i = 0; i < tickerItem.length; i++) {
                setTimeout(function () {
                    tickerWrap.appendChild(tickerItem[0]);
                }, 1500);
            }
        }, 1500);
    }

    // 计算相对时间的函数
    function getRelativeTime(date) {
        const rtf = new Intl.RelativeTimeFormat('zh-CN', { numeric: "auto", style: 'short' });

        const now = new Date();
        const diff = now - date;

        const seconds = Math.floor(diff / 1000);
        const minutes = Math.floor(seconds / 60);
        const hours = Math.floor(minutes / 60);
        const days = Math.floor(hours / 24);
        const months = Math.floor(days / 30);
        const years = Math.floor(days / 365);

        if (years > 0) {
            return rtf.format(-years, 'year');
        } else if (months > 0) {
            return rtf.format(-months, 'month');
        } else if (days > 0) {
            return rtf.format(-days, 'day');
        } else if (hours > 0) {
            return rtf.format(-hours, 'hour');
        } else if (minutes > 0) {
            return rtf.format(-minutes, 'minute');
        } else {
            return rtf.format(-seconds, 'second');
        }
    }

    // 替换字符串
    function replaceMultiple(str, replacements) {
        let result = str;
        for (const pattern in replacements) {
            const regex = new RegExp(pattern, 'g');
            result = result.replace(regex, replacements[pattern]);
        }
        return result;
    }

    // 提取 HTML 代码中的纯文本内容
    function extractTextFromHtml(html) {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        return doc.body.textContent || '';
    }
</script>

<script>
    window.addEventListener('scroll', function (e) {
        var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        var background_blur = document.getElementById('background-blur');
        background_blur.style.opacity = (scroll / 300)
    });

</script>
{{ end }}
